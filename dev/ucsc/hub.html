<!DOCTYPE html>
<html lang="en">
<head>
    <title>twobit</title>
</head>

<body>

<label>
    Enter full URL to hub.txt file
    <input id="hub-input" type="text" style="width: 600px" value="https://hgdownload.soe.ucsc.edu/hubs/GCF/000/186/305/GCF_000186305.1/hub.txt">
</label>

<button id="load-genome">Load hub as genome</button>
<button id="load-session">Load hub as session</button>

<div id="igvDiv" style="padding-top: 50px;padding-bottom: 20px; height: auto"></div>

<script type="module">

    import igv from "../../js/index.js"
    import Hub from "../../js/ucsc/ucscHub.js"

    const hubOptions = {
        url: "https://hgdownload.soe.ucsc.edu/hubs/GCF/000/186/305/GCF_000186305.1/hub.txt",
        includeTracks: "all"
    }

    const hub = await Hub.loadHub(hubOptions)
    const igvConfig = {
        locus: hub.getDefaultPosition(),
        reference: hub.getGenomeConfig()
    }

    const browser = await igv.createBrowser(document.getElementById('igvDiv'), igvConfig)

    document.getElementById("load-genome").addEventListener("click", () =>
        browser.loadGenome({url: document.getElementById("hub-input").value}))
    document.getElementById("load-session").addEventListener("click", () =>
        browser.loadSession({url: document.getElementById("hub-input").value}))


</script>

</body>

</html>
